$(function(){obj={build_lang_package:function(){var a=$("#datagrid_box").datagrid("getRows"),i=!0;a.forEach(function(e,a){l.forEach(function(a){0===e[a].length&&(i=!1)})}),i?$.ajax({type:"POST",url:LanguagePHP.generateLanguagePackage,dataType:"JSON",contentType:"application/json",data:JSON.stringify({col_key:l.join(","),modules:a}),beforeSend:function(){$.messager.progress({title:StrackPHP.Waiting,msg:StrackPHP.loading})},success:function(a){$.messager.progress("close"),200===parseInt(a.status)?(Strack.top_message({bg:"g",msg:a.message}),$("#datagrid_box").datagrid("reload")):layer.msg(a.message,{icon:7,time:1200,anim:6})}}):layer.msg(LanguagePHP.Lang_Fill_Null,{icon:2,time:1200,anim:6})}};var l=[];$.ajax({type:"POST",url:LanguagePHP.getLangList,dataType:"json",success:function(a){var e,i,t,g=[{field:"id",checkbox:!0},{field:"name",title:StrackLang.Module,align:"center",width:220}],n=[],d={};a.forEach(function(a){var e;n.push(a.id),g.push({field:(e=a).id,title:e.name,align:"center",width:180,editor:{type:"text"}}),d[a.id]={field_type:"built_in",field_map:a.id,field_value_map:a.id,primary:"id",module:"language",table:"Language"}}),e=l=n,i=g,t=d,$("#datagrid_box").datagrid({url:LanguagePHP.getLanguageModuleData,height:Strack.panel_height(".admin-page-right",76),differhigh:!0,rowheight:30,striped:!0,singleSelect:!0,cellUpdateMode:"manual",adaptive:{dom:"#active-language",min_width:360,exth:0},queryParams:{col_key:e.join(",")},columnsFieldConfig:t,columns:[i],toolbar:"#tb",pagination:!0,pageSize:200,pageList:[200,400],pageNumber:1,pagePosition:"bottom",remoteSort:!1}).datagrid("enableCellEditing").datagrid("disableCellSelecting").datagrid("gotoCell",{index:0,field:"id"}).datagrid("columnMoving")}})});